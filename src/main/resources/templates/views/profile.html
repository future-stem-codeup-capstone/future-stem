<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragments/head">
	<meta charset="UTF-8">
	<title>Profile</title>
</head>
<body>
<nav th:insert="fragments/navbar"></nav>
<div class="modal fade" id="create-project-modal" aria-hidden="true" data-toggle="modal" tabindex="-1" aria-labelledby="create-project-modal">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" style="font-weight: bold">Add New Project!</h5>
				<button class="close" type="button" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form th:action="@{/project/create}" method="post" th:object="${project}">
					<div class="form-group">
						<label for="title">Title:</label>
						<input class="form-control" th:field="*{title}" id="title">
					</div>
					<div class="form-group">
						<label for="body">Description:</label>
						<textarea class="form-control" th:field="*{body}" id="body" rows="3"></textarea>
					</div>
					<div class="form-group">
						<label for="fileupload">Project Image URL:</label>
						<input th:field="*{url}" id="fileupload" class="form-control">
						<button class="button" type="button" id="picker">Pick file</button>
					</div>
					<button type="submit">Create</button>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>

<h1 th:text="${username}"></h1>
<button type="button" data-toggle="modal" data-target="#create-project-modal">New Project</button>


<div class="container">
	<div th:each="project : ${userProjects}">
		<p th:text="${project.getTitle()}"></p>
		<p th:text="${project.getBody()}"></p>
		<img th:src="${project.getUrl()}" alt="image" width="300" height="300">
		<form th:action="'/project/delete/' + ${project.getId()}"  th:method="POST">
			<button>Delete</button>
		</form>
		
		<form th:action="'/project/edit/' + ${project.getId()}" th:method="GET" >
			<button>Edit</button>
		</form>
	</div>
</div>
<div class="container">
	<div th:each="hobby : ${hobby}">
		<h2 th:text="${hobby.getName}"></h2>
		
		<form th:action="'/hobbies/delete/' + ${hobby.getId()}" method="POST">
			
			<button>Delete</button>
		</form>
	</div>
</div>

<div th:insert="fragments/scripts"></div>
</body>
</html>